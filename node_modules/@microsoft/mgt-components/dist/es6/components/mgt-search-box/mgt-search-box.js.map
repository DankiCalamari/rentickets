{"version":3,"file":"mgt-search-box.js","sourceRoot":"src/","sources":["components/mgt-search-box/mgt-search-box.ts"],"names":[],"mappings":"AAAA;;;;;GAKG;;;;;;;;;;AAEH,OAAO,EAAa,IAAI,EAAkB,MAAM,KAAK,CAAC;AACtD,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC7C,OAAO,EAAE,oBAAoB,EAAE,MAAM,wBAAwB,CAAC;AAC9D,OAAO,EAAE,YAAY,EAAE,MAAM,0BAA0B,CAAC;AACxD,OAAO,EAAE,wBAAwB,EAAE,MAAM,8BAA8B,CAAC;AACxE,OAAO,EAAE,OAAO,EAAE,MAAM,WAAW,CAAC;AACpC,OAAO,EAAE,MAAM,EAAE,MAAM,sBAAsB,CAAC;AAC9C,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC7C,OAAO,EAAE,iBAAiB,EAAE,MAAM,wBAAwB,CAAC;AAE3D,MAAM,CAAC,MAAM,6BAA6B,GAAG,GAAG,EAAE;IAChD,wBAAwB,CAAC,YAAY,CAAC,CAAC;IACvC,iBAAiB,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;AAChD,CAAC,CAAC;AAEF;;;;;;;GAOG;AACH,MAAM,OAAO,YAAa,SAAQ,oBAAoB;IACpD;;;OAGG;IACH,MAAM,KAAK,MAAM;QACf,OAAO,MAAM,CAAC;IAChB,CAAC;IAED;;;;;;OAMG;IACH,IAAc,OAAO;QACnB,OAAO,OAAO,CAAC;IACjB,CAAC;IAcD;;;;;OAKG;IACH,IAIW,UAAU;QACnB,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IACD,IAAW,UAAU,CAAC,KAAK;QACzB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC/B,CAAC;IAiBD;QACE,KAAK,EAAE,CAAC;QAJF,gBAAW,GAAG,EAAE,CAAC;QAQzB;;;;;WAKG;QACgB,kBAAa,GAAG,GAAmB,EAAE;;YACtD,OAAO,IAAI,CAAA;;;;;gBAKC,MAAA,IAAI,CAAC,UAAU,mCAAI,EAAE;sBACf,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW;gBAC/D,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK;iBACtC,IAAI,CAAC,cAAc;kBAClB,IAAI,CAAC,cAAc;;uBAEd,CAAC;QACtB,CAAC,CAAC;QAEe,mBAAc,GAAG,CAAC,CAAQ,EAAE,EAAE;YAC7C,IAAI,CAAC,UAAU,GAAI,CAAC,CAAC,MAA2B,CAAC,KAAK,CAAC;QACzD,CAAC,CAAC;QA1BA,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;IAC3B,CAAC;IA2BD;;OAEG;IACK,qBAAqB;QAC3B,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE,CAAC;YACrC,IAAI,CAAC,0BAA0B,GAAG,QAAQ,CAAC,GAAG,EAAE;gBAC9C,IAAI,CAAC,eAAe,CAAC,mBAAmB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YAC7D,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACzB,CAAC;QAED,IAAI,CAAC,0BAA0B,EAAE,CAAC;IACpC,CAAC;CACF;AA7EQ;IAJN,QAAQ,CAAC;QACR,SAAS,EAAE,aAAa;QACxB,IAAI,EAAE,MAAM;KACb,CAAC;;iDACyB;AAQ3B;IAAC,QAAQ,CAAC;QACR,SAAS,EAAE,aAAa;QACxB,IAAI,EAAE,MAAM;KACb,CAAC;;;8CAGD;AAiBM;IALN,QAAQ,CAAC;QACR,SAAS,EAAE,gBAAgB;QAC3B,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,IAAI;KACd,CAAC;;mDAC2B","sourcesContent":["/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n\nimport { CSSResult, html, TemplateResult } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { MgtBaseTaskComponent } from '@microsoft/mgt-element';\nimport { fluentSearch } from '@fluentui/web-components';\nimport { registerFluentComponents } from '../../utils/FluentComponents';\nimport { strings } from './strings';\nimport { styles } from './mgt-search-box-css';\nimport { debounce } from '../../utils/Utils';\nimport { registerComponent } from '@microsoft/mgt-element';\n\nexport const registerMgtSearchBoxComponent = () => {\n  registerFluentComponents(fluentSearch);\n  registerComponent('search-box', MgtSearchBox);\n};\n\n/**\n * Web component used to enter a search value to power search scenarios.\n *\n * @fires {CustomEvent<string>} searchTermChanged - Fired when the search term is changed\n *\n * @class MgtSearchBox\n * @extends {MgtBaseComponent}\n */\nexport class MgtSearchBox extends MgtBaseTaskComponent {\n  /**\n   * Array of styles to apply to the element. The styles should be defined\n   * user the `css` tag function.\n   */\n  static get styles(): CSSResult[] {\n    return styles;\n  }\n\n  /**\n   * Provides strings for localization\n   *\n   * @readonly\n   * @protected\n   * @memberof MgtSearchBox\n   */\n  protected get strings() {\n    return strings;\n  }\n\n  /**\n   * The placeholder rendered in the search input (for example, `Select a user` or `Select a task list`).\n   *\n   * @type {string}\n   * @memberof MgtSearchBox\n   */\n  @property({\n    attribute: 'placeholder',\n    type: String\n  })\n  public placeholder: string;\n\n  /**\n   * Value of the search term\n   *\n   * @type {string}\n   * @memberof MgtSearchBox\n   */\n  @property({\n    attribute: 'search-term',\n    type: String\n  })\n  public get searchTerm() {\n    return this._searchTerm;\n  }\n  public set searchTerm(value) {\n    this._searchTerm = value;\n    this.fireSearchTermChanged();\n  }\n\n  /**\n   * Debounce delay of the search input in milliseconds\n   *\n   * @type {number}\n   * @memberof MgtSearchBox\n   */\n  @property({\n    attribute: 'debounce-delay',\n    type: Number,\n    reflect: true\n  })\n  public debounceDelay: number;\n  private _searchTerm = '';\n  private debouncedSearchTermChanged: () => void;\n\n  constructor() {\n    super();\n    this.debounceDelay = 300;\n  }\n\n  /**\n   * Renders the component\n   *\n   * @return {TemplateResult}\n   * @memberof MgtSearchBox\n   */\n  protected readonly renderContent = (): TemplateResult => {\n    return html`\n      <fluent-search\n        autocomplete=\"off\"\n        class=\"search-term-input\"\n        appearance=\"outline\"\n        value=${this.searchTerm ?? ''}\n        placeholder=${this.placeholder ? this.placeholder : strings.placeholder}\n        title=${this.title ? this.title : strings.title}\n        @input=${this.onInputChanged}\n        @change=${this.onInputChanged}\n      >\n      </fluent-search>`;\n  };\n\n  private readonly onInputChanged = (e: Event) => {\n    this.searchTerm = (e.target as HTMLInputElement).value;\n  };\n\n  /**\n   * Fires and debounces the custom event to listeners\n   */\n  private fireSearchTermChanged() {\n    if (!this.debouncedSearchTermChanged) {\n      this.debouncedSearchTermChanged = debounce(() => {\n        this.fireCustomEvent('searchTermChanged', this.searchTerm);\n      }, this.debounceDelay);\n    }\n\n    this.debouncedSearchTermChanged();\n  }\n}\n"]}